<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Incluir Produto</title>

    <script>
        function EnviarForm() {
            var xmlHttp = new XMLHttpRequest();
            
            let codbarra = document.getElementById("icodbarra").value;
            let nome = document.getElementById("inome").value;
            let fabricante = document.getElementById("ifabricante").value;
            let categoria = document.getElementById("icategoria").value;
            let tipo = document.getElementById("itipo").value;
            let preco = document.getElementById("ipreco").value;
            let quantestoque = document.getElementById("iquantestoque").value;
            let peso = document.getElementById("ipeso").value;
            let descricao = document.getElementById("idescricao").value;
            let data = document.getElementById("idata").value;
            let ativo = document.getElementById("iativo").value;

            xmlHttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    //console.log("Retornou: " + this.responseText);
                }
            }
            xmlHttp.open("GET","http://localhost/3DAW/av2-crud-js-php/incluir.php?icodbarra="+codbarra+"&inome="+nome+
            "&ifabricante="+fabricante+"&icategoria="+categoria+"&itipo="+tipo+"&ipreco="+preco+"&iquantestoque="+quantestoque+"&ipeso="+peso+"&idescricao="+descricao+"&idata="+data+"&iativo="+ativo,true);

            xmlHttp.send();
            console.log("Requisição enviada.");
        }
       
    </script>
</head>
<body>
    <section>
        <h1>Incuir Produto</h1>
        <form action="" id="iform" method="">
            Codigo de Barras:<br><input type="text" id="icodbarra" name="codbarra"><br><br>
            Nome:<br><input type="text" id="inome" name="nome"><br><br>
            Fabricante:<br><input type="text" id="ifabricante" name="fabricante"><br><br>
            Categoria:<br><select id="icategoria" name="categoria">
            
            </select><br><br>
            Tipo:<br><select id="itipo" name="tipo">
            
            </select><br><br>
            Preço de venda:<br><input type="text" id="ipreco" name="preco"><br><br>
            Quantidade em estoque:<br><input type="text" id="iquantestoque" name="quantestoque"><br><br>
            Peso em Gramas:<br><input type="text" id="ipeso" name="peso"><br><br>
            Descrição:<br><input type="text" id="idescricao" name="descricao"><br><br>
            Data da inclusão:<br><input type="date" id="idata"name="data"><br><br>
            <input type="hidden" id="iativo"name="iativo" value="1">

            <input type="button" id="iincluir" value="Incluir" onclick="EnviarForm()">
        </form>
    </section>
</body>
</html>